<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register Student</title>
    <style>
        /* Add styles here */
        body { font-family: Arial, sans-serif; margin: 20px; }
        form { max-width: 500px; margin: auto; }
        label, input, textarea { display: block; margin: 10px 0; }
    </style>
</head>
<body>
    <h1>Register Student</h1>
    <form id="registerForm">
        <h2>Biodata</h2>
        <label>First Name: <input type="text" id="firstName" required></label>
        <label>Second Name: <input type="text" id="secondName" required></label>
        <label>Age: <input type="number" id="age" required></label>
        <label>Class: <input type="text" id="class" required></label>
        <label>Date of Birth: <input type="date" id="dob" required></label>

        <h2>Parent's Data</h2>
        <label>Mother's First Name: <input type="text" id="motherFirstName" required></label>
        <label>Mother's Second Name: <input type="text" id="motherSecondName" required></label>
        <label>Mother's Tel: <input type="tel" id="motherTel" required></label>
        <label>Father's First Name: <input type="text" id="fatherFirstName" required></label>
        <label>Father's Second Name: <input type="text" id="fatherSecondName" required></label>
        <label>Father's Tel: <input type="tel" id="fatherTel" required></label>

        <h2>Health History</h2>
        <label>Health History: <textarea id="healthHistory"></textarea></label>
        <label>Disease: <input type="text" id="disease"></label>
        <label>Medication: <input type="text" id="medication"></label>

        <button type="submit">Submit</button>
    </form>

    <script>
        document.getElementById('registerForm').addEventListener('submit', async (e) => {
            e.preventDefault();

            const studentData = {
                firstName: document.getElementById('firstName').value,
                secondName: document.getElementById('secondName').value,
                age: parseInt(document.getElementById('age').value),
                className: document.getElementById('class').value,
                dob: document.getElementById('dob').value,
                mother: {
                    firstName: document.getElementById('motherFirstName').value,
                    secondName: document.getElementById('motherSecondName').value,
                    tel: document.getElementById('motherTel').value
                },
                father: {
                    firstName: document.getElementById('fatherFirstName').value,
                    secondName: document.getElementById('fatherSecondName').value,
                    tel: document.getElementById('fatherTel').value
                },
                health: {
                    history: document.getElementById('healthHistory').value,
                    disease: document.getElementById('disease').value,
                    medication: document.getElementById('medication').value
                }
            };

            try {
                const response = await fetch('http://localhost:3000/register-student', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(studentData)
                });

                if (response.ok) {
                    alert('Student registered successfully');
                } else {
                    alert('Failed to register student');
                }
            } catch (error) {
                console.error('Error:', error);
                alert('Error submitting form');
            }
        });
    </script>
</body>
</html>
